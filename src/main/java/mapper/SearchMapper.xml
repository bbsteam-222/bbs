<?xml version="1.0" encoding="GBK" ?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.SearchMapper">


    <select id="selectTopicByBlock" parameterType="String" resultType="po.Topic">
        SELECT * FROM TOPIC WHERE tstatus=1 AND block=#{block} ORDER BY time DESC
    </select>


    <select id="selectTopicByUid" parameterType="String" resultType="po.Topic">
         SELECT * FROM TOPIC WHERE tstatus=1 AND uid=#{uid} ORDER BY time DESC
    </select>


    <select id="selectTopicByTitle" parameterType="po.Topic" resultType="po.Topic">
        SELECT * FROM TOPIC WHERE tstatus=1 AND title LIKE '%${title}%' ORDER BY time DESC
    </select>

    <select id="selectAllTopic" resultType="po.Topic">
        SELECT * FROM TOPIC WHERE tstatus=1 ORDER BY time DESC
    </select>

    <select id="searchOneTopic" parameterType="String" resultType="po.Topic">
        SELECT * FROM TOPIC WHERE tid=#{tid}
    </select>

    <select id="findTopicByMulity" parameterType="po.Topic" resultType="po.Topic">
        SELECT * FROM Topic WHERE tstatus=1 AND title LIKE '%${title}%' AND uid LIKE '%${uid}%' AND block LIKE '%${block}%'
        ORDER BY time DESC
    </select>
</mapper>